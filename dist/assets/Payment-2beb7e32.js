import{s as _}from"./index-c9f01e59.js";import{s as N}from"./index-b285b457.js";import{s as P}from"./index-90b3f33a.js";import{_ as x}from"./TopBreadcrumb-da2a10f0.js";import{Y as V,$ as p,a0 as v,d as h,r as B,P as w,c as A,f as s,b as e,J as b,L,o as C,N as d,t as c,e as o}from"./index-adf5aec1.js";import"./index-6cc98fa5.js";import"./_plugin-vue_export-helper-c27b6911.js";const I=V("PaymentStore",{state:()=>({isLoading:!1,allPayment:[],detail:{}}),actions:{async getAll(){this.isLoading=!0;try{const l=await p.get("/auth/company-payment");return this.allPayment=l.data,l}catch{}finally{this.isLoading=!1}},async update(l,t){this.isLoading=!0;try{const n=await p.post(`/auth/company-payment/${t}`,l);return v("success",n.message)}catch{}finally{this.isLoading=!1}}}}),S={class:"card mt-8"},U={class:"flex items-start gap-4"},T={class:"font-semibold"},$={class:"font-semibold"},R={class:"font-semibold"},j={class:"mb-4 flex flex-col gap-1"},q={class:"mb-4 flex flex-col gap-1"},D={class:"mb-4 flex flex-col gap-1"},E={class:"flex justify-end"},K=h({__name:"Payment",setup(l){const t=I(),n=B({id:null,name:"",bankName:"",accountNumber:""});w(async()=>{var m;await t.getAll(),(m=t==null?void 0:t.allPayment)!=null&&m.length&&(n.id=t.allPayment[0].id,n.name=t.allPayment[0].bank_account,n.bankName=t.allPayment[0].bank_name,n.accountNumber=t.allPayment[0].no_rekening)});async function f(m){const a={_method:"PATCH",bank_name:n.bankName,bank_account:n.name,no_rekening:n.accountNumber};await t.update(a,n.id),m(),await t.getAll()}return(m,a)=>{const g=x,u=P,r=N,k=_;return C(),A(L,null,[s(g,{breadcrumbItems:[{label:"Pengaturan Pembayaran"}]}),e("div",S,[a[9]||(a[9]=e("h5",{class:"mb-4"},"Informasi Akun Bank",-1)),s(k,{class:"inplace-custom-display"},{display:b(()=>[e("div",U,[e("div",null,[e("p",null,[a[3]||(a[3]=d("Pemegang akun: ")),e("span",T,c(o(n).name),1)]),e("p",null,[a[4]||(a[4]=d("Nama Bank: ")),e("span",$,c(o(n).bankName),1)]),e("p",null,[a[5]||(a[5]=d("Nomor Rekening: ")),e("span",R,c(o(n).accountNumber),1)]),s(u,{icon:"pi pi-pencil",label:"Ubah Informasi",severity:"primary"})])])]),content:b(({closeCallback:y})=>[e("div",j,[a[6]||(a[6]=e("label",{for:"account-holder"},"Nama Pemegang Akun",-1)),s(r,{modelValue:o(n).name,"onUpdate:modelValue":a[0]||(a[0]=i=>o(n).name=i),id:"account-holder",placeholder:"Nama Pemegang Akun",class:"w-auto"},null,8,["modelValue"])]),e("div",q,[a[7]||(a[7]=e("label",{for:"bank-name"},"Nama Bank",-1)),s(r,{modelValue:o(n).bankName,"onUpdate:modelValue":a[1]||(a[1]=i=>o(n).bankName=i),id:"bank-name",placeholder:"Nama Bank",class:"w-auto"},null,8,["modelValue"])]),e("div",D,[a[8]||(a[8]=e("label",{for:"bank-name"},"Nomor Rekening",-1)),s(r,{modelValue:o(n).accountNumber,"onUpdate:modelValue":a[2]||(a[2]=i=>o(n).accountNumber=i),id:"bank-name",placeholder:"Nama Bank",class:"w-auto"},null,8,["modelValue"])]),e("div",E,[s(u,{icon:"pi pi-check",loading:o(t).isLoading,disabled:o(t).isLoading,label:"Simpan",severity:"primary",onClick:i=>f(y)},null,8,["loading","disabled","onClick"])])]),_:1})])],64)}}});export{K as default};
