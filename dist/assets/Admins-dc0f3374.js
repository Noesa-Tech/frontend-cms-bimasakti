import{s as Q}from"./index-21298692.js";import{s as I}from"./index-9ddf3d55.js";import{s as O}from"./index-d4016579.js";import{s as j,a as E}from"./index-ef5991cc.js";import{s as q}from"./index-b12d1d5d.js";import{s as M}from"./index-9ea91010.js";import{s as U}from"./index-5646386e.js";import{L as W}from"./location-70478978.js";import{d as K,r as z,V as L,P as R,o as N,c as D,b as n,f as e,e as l,J as m,N as _,L as B,H as h,E as ee,S as oe,a8 as le,a as x,a9 as ae,W as S,X as T,y as te,z as G}from"./index-2917ce10.js";import{s as ne,a as ie}from"./index-547ca5e5.js";import{_ as se}from"./_plugin-vue_export-helper-c27b6911.js";import{s as de,a as re}from"./index-6372ac25.js";import{_ as me}from"./TopBreadcrumb-739057b0.js";import{s as ue}from"./index-6240175d.js";import"./index-775fa504.js";import"./index-002ee94f.js";import"./index-4a56db6f.js";import"./index-2f177586.js";import"./index-83a3f0d6.js";const pe={class:"flex flex-col gap-2 mb-4"},fe={class:"flex flex-col gap-2 mb-4"},ce={class:"flex flex-col gap-2 mb-4"},be={class:"mb-4 flex flex-col gap-2"},ve={class:"mb-4 flex flex-col gap-2"},ge={class:"mb-4 flex flex-col gap-2"},ye={class:"flex justify-end gap-2 mt-8"},Ve=K({__name:"AddAdmin",emits:["on-close","on-save"],setup($,{emit:w}){const p=W(),b=w,s=z({name:"",email:"",phone:null,selectedProvince:{},selectedCity:{},password:""}),u=L(()=>p.provinces.map(c=>({id:c.id,name:c.nama}))),f=L(()=>p.cities.map(c=>({id:c.id,name:c.nama})));async function g(c){await p.fetchCities(c.value.id)}R(async()=>{await p.fetchProvinces()});async function k(){b("on-save")}return(c,o)=>{const a=M,C=j,v=q,i=E,P=O,y=I;return N(),D(B,null,[n("div",pe,[o[10]||(o[10]=n("label",{for:"name"},"Nama Admin",-1)),e(a,{modelValue:l(s).name,"onUpdate:modelValue":o[0]||(o[0]=r=>l(s).name=r),id:"name","aria-describedby":"name-help",placeholder:"Masukkan nama lengkap admin"},null,8,["modelValue"])]),n("div",fe,[o[11]||(o[11]=n("label",{for:"email"},"Nomor Hp Admin",-1)),e(a,{modelValue:l(s).email,"onUpdate:modelValue":o[1]||(o[1]=r=>l(s).email=r),id:"email","aria-describedby":"phone-help",placeholder:"Masukkan email admin"},null,8,["modelValue"])]),n("div",ce,[o[13]||(o[13]=n("label",{for:"phone"},"Nomor Hp",-1)),e(i,null,{default:m(()=>[e(C,null,{default:m(()=>o[12]||(o[12]=[_(" +62 ")])),_:1}),e(v,{modelValue:l(s).phone,"onUpdate:modelValue":o[2]||(o[2]=r=>l(s).phone=r),id:"phone",inputId:"withoutgrouping",useGrouping:!1,fluid:"",placeholder:"Masukkan no hp admin"},null,8,["modelValue"])]),_:1})]),n("div",be,[o[14]||(o[14]=n("label",{for:"prov"},"Provinsi",-1)),e(l(U),{inputId:"prov",modelValue:l(s).selectedProvince,"onUpdate:modelValue":o[3]||(o[3]=r=>l(s).selectedProvince=r),loading:l(p).isLoadingProvince,onChange:o[4]||(o[4]=r=>g(r)),disabled:l(u).length<1,options:l(u),filter:"",optionLabel:"name",fluid:"",placeholder:"Pilih provinsi"},null,8,["modelValue","loading","disabled","options"])]),n("div",ve,[o[15]||(o[15]=n("label",{for:"city"},"Kota/Kabupaten",-1)),e(l(U),{inputId:"city",modelValue:l(s).selectedCity,"onUpdate:modelValue":o[5]||(o[5]=r=>l(s).selectedCity=r),loading:l(p).isLoadingCities,onChange:o[6]||(o[6]=r=>c.fetchSubDistrict(r)),disabled:l(f).length<1,options:l(f),filter:"",optionLabel:"name",fluid:"",placeholder:"Pilih kabupaten/kota"},null,8,["modelValue","loading","disabled","options"])]),n("div",ge,[o[16]||(o[16]=n("label",{for:"city"},"Kata Sandi",-1)),e(P,{modelValue:l(s).password,"onUpdate:modelValue":o[7]||(o[7]=r=>l(s).password=r),fluid:"",toggleMask:"",promptLabel:"Masukkan Password",weakLabel:"Kurang Kuat",mediumLabel:"Cukup Kuat",strongLabel:"Sangat kuat"},null,8,["modelValue"])]),n("div",ye,[e(y,{type:"button",label:"Batal",text:"",severity:"secondary",onClick:o[8]||(o[8]=r=>b("on-close"))}),e(y,{type:"button",label:"Simpan",onClick:o[9]||(o[9]=r=>k())})])],64)}}}),xe={props:{password:{type:String,required:!0},textClass:{type:String,default:""}},data(){return{isPasswordVisible:!1}},methods:{togglePasswordVisibility(){this.isPasswordVisible=!this.isPasswordVisible}}},_e={class:"flex items-center gap-2"};function we($,w,p,b,s,u){const f=I;return N(),D("div",_e,[n("div",{class:ee([p.textClass,"flex-1"])},h(s.isPasswordVisible?p.password:$.maskPassword(p.password)),3),e(f,{icon:"pi pi-eye",severity:"contrast",variant:"text",rounded:"","aria-label":"Star",onClick:u.togglePasswordVisibility},null,8,["onClick"])])}const ke=se(xe,[["render",we]]),Ce={getData(){return[{id:7,name:"Anugrah Abdi Kautsar",email:"anugrahabdikautsar@gmail.com",phone:"+6287771739015",location:{id:"1",name:"Bandung"},password:"P@ssw0rd!",created_at:"2024-12-13T09:05:43.000000Z",updated_at:"2024-12-13T09:05:43.000000Z",deleted_at:null},{id:8,name:"Adli eeng",email:"adlieend@gmail.com",phone:"+6287771739015",location:{id:"2",name:"Jakarta Selatan"},password:"P@ssw0rd!",created_at:"2024-12-13T09:05:43.000000Z",updated_at:"2024-12-13T09:05:43.000000Z",deleted_at:null}]},getAdmin(){return Promise.resolve(this.getData())}},Ae={class:"flex flex-col gap-2 mb-4"},$e={class:"flex flex-col gap-2 mb-4"},Pe={class:"flex flex-col gap-2 mb-4"},Se={class:"mb-4 flex flex-col gap-2"},he={class:"mb-4 flex flex-col gap-2"},Te={class:"mb-4 flex flex-col gap-2"},Ue={class:"flex justify-end gap-2 mt-8"},Le=K({__name:"EditAdmin",props:{data:{type:Object,required:!0}},emits:["on-close","on-save"],setup($,{emit:w}){const p=W(),b=w,s=$,u=z({name:s.data.name||"",email:s.data.email||"",phone:s.data.phone||null,selectedProvince:s.data.province||{},selectedCity:s.data.location||{},password:s.data.password||""}),f=L(()=>p.provinces.map(o=>({id:o.id,name:o.nama}))),g=L(()=>p.cities.map(o=>({id:o.id,name:o.nama})));async function k(o){await p.fetchCities(o.value.id)}R(async()=>{await p.fetchProvinces()});async function c(){b("on-save",u)}return(o,a)=>{const C=M,v=j,i=q,P=E,y=O,r=I;return N(),D(B,null,[n("div",Ae,[a[10]||(a[10]=n("label",{for:"name"},"Nama Admin",-1)),e(C,{modelValue:l(u).name,"onUpdate:modelValue":a[0]||(a[0]=d=>l(u).name=d),id:"name","aria-describedby":"name-help",placeholder:"Masukkan nama lengkap admin"},null,8,["modelValue"])]),n("div",$e,[a[11]||(a[11]=n("label",{for:"email"},"Nomor Hp Admin",-1)),e(C,{modelValue:l(u).email,"onUpdate:modelValue":a[1]||(a[1]=d=>l(u).email=d),id:"email","aria-describedby":"phone-help",placeholder:"Masukkan email admin"},null,8,["modelValue"])]),n("div",Pe,[a[13]||(a[13]=n("label",{for:"phone"},"Nomor Hp",-1)),e(P,null,{default:m(()=>[e(v,null,{default:m(()=>a[12]||(a[12]=[_(" +62 ")])),_:1}),e(i,{modelValue:l(u).phone,"onUpdate:modelValue":a[2]||(a[2]=d=>l(u).phone=d),id:"phone",inputId:"withoutgrouping",useGrouping:!1,fluid:"",placeholder:"Masukkan no hp admin"},null,8,["modelValue"])]),_:1})]),n("div",Se,[a[14]||(a[14]=n("label",{for:"prov"},"Provinsi",-1)),e(l(U),{inputId:"prov",modelValue:l(u).selectedProvince,"onUpdate:modelValue":a[3]||(a[3]=d=>l(u).selectedProvince=d),loading:l(p).isLoadingProvince,onChange:a[4]||(a[4]=d=>k(d)),disabled:l(f).length<1,options:l(f),filter:"",optionLabel:"name",fluid:"",placeholder:"Pilih provinsi"},null,8,["modelValue","loading","disabled","options"])]),n("div",he,[a[15]||(a[15]=n("label",{for:"city"},"Kota/Kabupaten",-1)),e(l(U),{inputId:"city",modelValue:l(u).selectedCity,"onUpdate:modelValue":a[5]||(a[5]=d=>l(u).selectedCity=d),loading:l(p).isLoadingCities,onChange:a[6]||(a[6]=d=>o.fetchSubDistrict(d)),disabled:l(g).length<1,options:l(g),filter:"",optionLabel:"name",fluid:"",placeholder:"Pilih kabupaten/kota"},null,8,["modelValue","loading","disabled","options"])]),n("div",Te,[a[16]||(a[16]=n("label",{for:"city"},"Kata Sandi",-1)),e(y,{modelValue:l(u).password,"onUpdate:modelValue":a[7]||(a[7]=d=>l(u).password=d),fluid:"",toggleMask:"",promptLabel:"Masukkan Password",weakLabel:"Kurang Kuat",mediumLabel:"Cukup Kuat",strongLabel:"Sangat kuat"},null,8,["modelValue"])]),n("div",Ue,[e(r,{type:"button",label:"Batal",text:"",severity:"secondary",onClick:a[8]||(a[8]=d=>b("on-close"))}),e(r,{type:"button",label:"Simpan",onClick:a[9]||(a[9]=d=>c())})])],64)}}}),Ie={class:"card mt-8"},Ne={class:"flex flex-col md:flex-row justify-between gap-4"},De={class:"flex items-center gap-4 md:order-2 order-1"},Me={class:"hidden md:flex"},Ke={class:"flex md:hidden"},Be=["href"],He={class:"flex gap-4 items-center"},no=K({__name:"Admins",setup($){const w=oe();le();const p=x(),b=x({}),s=x(!1),u=x(null),f=x(!1),g=x(!1),k=x(null);ae(()=>{Ce.getAdmin().then(v=>{u.value=v,s.value=!1}),c()});function c(){b.value={global:{value:null,matchMode:S.CONTAINS},name:{operator:T.AND,constraints:[{value:null,matchMode:S.STARTS_WITH}]},email:{operator:T.AND,constraints:[{value:null,matchMode:S.STARTS_WITH}]},phone:{operator:T.AND,constraints:[{value:null,matchMode:S.STARTS_WITH}]},"location.name":{operator:T.AND,constraints:[{value:null,matchMode:S.STARTS_WITH}]}}}const o=v=>{p.value.exportCSV()},a=v=>{w.require({target:v.currentTarget,message:"Yakin ingin menghapus admin ini?",icon:"pi pi-info-circle",rejectProps:{label:"Batal",severity:"secondary",outlined:!0},acceptProps:{label:"Yakin",severity:"danger"},accept:()=>{},reject:()=>{}})};function C(v){k.value=v,f.value=!0}return(v,i)=>{const P=me,y=I,r=de,d=M,Z=re,A=ie,J=ke,Y=ne,X=Ve,H=Q,F=te("tooltip");return N(),D(B,null,[e(P,{breadcrumbItems:[{label:"Admin"}]}),n("div",Ie,[i[14]||(i[14]=n("div",{class:"font-semibold text-xl mb-4"},"Data Admin",-1)),e(Y,{ref_key:"dt",ref:p,value:u.value,paginator:!0,rows:10,dataKey:"id",filters:b.value,"onUpdate:filters":i[4]||(i[4]=t=>b.value=t),filterDisplay:"menu",loading:s.value,globalFilterFields:["name","email","phone","location.name"],showGridlines:""},{header:m(()=>[n("div",Ne,[e(y,{type:"button",icon:"pi pi-plus",label:"Tambah Admin",class:"md:order-1 order-2",onClick:i[0]||(i[0]=t=>g.value=!0)}),n("div",De,[n("div",Me,[e(y,{type:"button",icon:"pi pi-download",outlined:"",label:"Unduh",onClick:i[1]||(i[1]=t=>o(t))})]),n("div",Ke,[e(y,{type:"button",icon:"pi pi-download",outlined:""})]),e(Z,{class:"w-full md:w-auto"},{default:m(()=>[e(r,null,{default:m(()=>i[11]||(i[11]=[n("i",{class:"pi pi-search"},null,-1)])),_:1}),e(d,{modelValue:b.value.global.value,"onUpdate:modelValue":i[2]||(i[2]=t=>b.value.global.value=t),placeholder:"Pencarian",fluid:""},null,8,["modelValue"])]),_:1})])])]),empty:m(()=>i[12]||(i[12]=[_(" Tidak ada data Admin. ")])),loading:m(()=>i[13]||(i[13]=[_(" Memuat data Admin. Mohon tunggu. ")])),default:m(()=>[e(A,{sortable:"",field:"name",header:"Nama",class:"min-w-[15rem]"},{body:m(({data:t})=>[_(h(t.name),1)]),filter:m(({filterModel:t})=>[e(d,{modelValue:t.value,"onUpdate:modelValue":V=>t.value=V,type:"text",placeholder:"Cari Admin"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(A,{sortable:"",field:"email",header:"Alamat Email",class:"min-w-[15rem]"},{body:m(({data:t})=>[n("a",{href:"mailto:"+t.email,class:"text-blue-400 hover:text-blue-500 transition-all",target:"_blank"},h(t.email),9,Be)]),filter:m(({filterModel:t})=>[e(d,{modelValue:t.value,"onUpdate:modelValue":V=>t.value=V,type:"text",placeholder:"Cari Admin"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(A,{sortable:"",field:"phone",header:"Nomor Hp",class:"min-w-[15rem]"},{body:m(({data:t})=>[_(h(t.phone),1)]),filter:m(({filterModel:t})=>[e(d,{modelValue:t.value,"onUpdate:modelValue":V=>t.value=V,type:"text",placeholder:"Cari Admin"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(A,{sortable:"",field:"location.name",header:"Lokasi",class:"min-w-[15rem]"},{body:m(({data:t})=>[_(h(t.location.name),1)]),filter:m(({filterModel:t})=>[e(d,{modelValue:t.value,"onUpdate:modelValue":V=>t.value=V,type:"text",placeholder:"Cari Lokasi"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(A,{header:"Password",class:"min-w-[15rem]"},{body:m(({data:t})=>[e(J,{password:t.password},null,8,["password"])]),_:1}),e(A,{sortable:"",field:"id",header:"Action",bodyClass:"text-center",class:"min-w-[10rem]"},{body:m(({data:t})=>[n("div",He,[G(e(y,{icon:"pi pi-pencil",severity:"info",text:"",onClick:V=>C(t)},null,8,["onClick"]),[[F,"Ubah",void 0,{bottom:!0}]]),G(e(y,{icon:"pi pi-trash",severity:"danger",text:"",onClick:i[3]||(i[3]=V=>a(V))},null,512),[[F,"Hapus",void 0,{bottom:!0}]])])]),_:1})]),_:1},8,["value","filters","loading"])]),e(l(ue)),e(H,{visible:g.value,"onUpdate:visible":i[7]||(i[7]=t=>g.value=t),maximizable:"",modal:"",header:"Tambah Admin",class:"sm:w-1/2 w-full"},{default:m(()=>[e(X,{onOnClose:i[5]||(i[5]=t=>g.value=!1),onOnSave:i[6]||(i[6]=t=>g.value=!1)})]),_:1},8,["visible"]),e(H,{visible:f.value,"onUpdate:visible":i[10]||(i[10]=t=>f.value=t),maximizable:"",modal:"",header:"Ubah Admin",class:"sm:w-1/2 w-full"},{default:m(()=>[e(Le,{data:k.value,onOnClose:i[8]||(i[8]=t=>f.value=!1),onOnSave:i[9]||(i[9]=t=>f.value=!1)},null,8,["data"])]),_:1},8,["visible"])],64)}}});export{no as default};
