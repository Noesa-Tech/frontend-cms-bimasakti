var w=(y,g,r)=>new Promise((i,u)=>{var b=d=>{try{t(r.next(d))}catch(f){u(f)}},a=d=>{try{t(r.throw(d))}catch(f){u(f)}},t=d=>d.done?i(d.value):Promise.resolve(d.value).then(b,a);t((r=r.apply(y,g)).next())});import{s as I}from"./index-facb98bd.js";import{s as O,a as F}from"./index-c6ee4c45.js";import{s as G}from"./index-c7c4c86d.js";import{s as U}from"./index-5b391e5b.js";import{S as R}from"./service-6dfa86d3.js";import{p as N,v as _,q as j,S as W,o as A,c as B,a as n,h as l,z as m,w as s,O as x,M as D,a1 as Y,a5 as J,a9 as L,a3 as T,a4 as h,J as Q,t as S,K as H}from"./index-e1929d3d.js";import{s as X}from"./index-0bcdbf95.js";import{s as ee,a as le}from"./index-efe509d0.js";import{a as te,b as oe}from"./index-9cd87068.js";import{_ as ae}from"./TopBreadcrumb-7bdf86c1.js";import{s as ne}from"./index-709279db.js";import"./index-11ea55b2.js";import"./index-40b74cf5.js";import"./index-106445de.js";import"./_plugin-vue_export-helper-c27b6911.js";const se={class:"flex flex-col gap-2 mb-4"},ie={class:"flex flex-col gap-2 mb-4"},re={class:"flex flex-col gap-2"},ue={class:"flex justify-end gap-2 mt-8"},de=N({__name:"EditCustomer",props:{customer:{type:Object,required:!0}},emits:["on-close","on-save"],setup(y,{emit:g}){const r=y,i=g;R(),_(null);const u=j({name:r.customer.name,description:r.customer.email,status:r.customer.phone});function b(){return w(this,null,function*(){i("on-save")})}return W(()=>r.customer,a=>{},{immediate:!0}),(a,t)=>{const d=U,f=O,V=G,p=F,e=I;return A(),B(D,null,[n("div",se,[t[5]||(t[5]=n("label",{for:"name"},"Nama Pelanggan",-1)),l(d,{modelValue:m(u).name,"onUpdate:modelValue":t[0]||(t[0]=v=>m(u).name=v),id:"name","aria-describedby":"name-help",placeholder:"Masukkan nama lengkap pelanggan"},null,8,["modelValue"])]),n("div",ie,[t[6]||(t[6]=n("label",{for:"email"},"Nomor Hp Pelanggan",-1)),l(d,{modelValue:m(u).email,"onUpdate:modelValue":t[1]||(t[1]=v=>m(u).email=v),id:"email","aria-describedby":"phone-help",placeholder:"Masukkan email pelanggan"},null,8,["modelValue"])]),n("div",re,[t[8]||(t[8]=n("label",{for:"phone"},"Nomor Hp",-1)),l(p,null,{default:s(()=>[l(f,null,{default:s(()=>t[7]||(t[7]=[x(" +62 ")])),_:1}),l(V,{modelValue:m(u).phone,"onUpdate:modelValue":t[2]||(t[2]=v=>m(u).phone=v),id:"phone",inputId:"withoutgrouping",useGrouping:!1,fluid:"",placeholder:"Masukkan no hp pelanggan"},null,8,["modelValue"])]),_:1})]),n("div",ue,[l(e,{type:"button",label:"Batal",text:"",severity:"secondary",onClick:t[3]||(t[3]=v=>i("on-close"))}),l(e,{type:"button",label:"Simpan",onClick:t[4]||(t[4]=v=>b())})])],64)}}}),me={class:"flex flex-col gap-2 mb-4"},pe={class:"flex flex-col gap-2 mb-4"},fe={class:"flex flex-col gap-2"},ve={class:"flex justify-end gap-2 mt-8"},ce=N({__name:"AddCustomer",emits:["on-close","on-save"],setup(y,{emit:g}){const r=g,i=j({name:"",email:"",phone:null});function u(){return w(this,null,function*(){r("on-save")})}return(b,a)=>{const t=U,d=O,f=G,V=F,p=I;return A(),B(D,null,[n("div",me,[a[5]||(a[5]=n("label",{for:"name"},"Nama Pelanggan",-1)),l(t,{modelValue:m(i).name,"onUpdate:modelValue":a[0]||(a[0]=e=>m(i).name=e),id:"name","aria-describedby":"name-help",placeholder:"Masukkan nama lengkap pelanggan"},null,8,["modelValue"])]),n("div",pe,[a[6]||(a[6]=n("label",{for:"email"},"Nomor Hp Pelanggan",-1)),l(t,{modelValue:m(i).email,"onUpdate:modelValue":a[1]||(a[1]=e=>m(i).email=e),id:"email","aria-describedby":"phone-help",placeholder:"Masukkan email pelanggan"},null,8,["modelValue"])]),n("div",fe,[a[8]||(a[8]=n("label",{for:"phone"},"Nomor Hp",-1)),l(V,null,{default:s(()=>[l(d,null,{default:s(()=>a[7]||(a[7]=[x(" +62 ")])),_:1}),l(f,{modelValue:m(i).phone,"onUpdate:modelValue":a[2]||(a[2]=e=>m(i).phone=e),id:"phone",inputId:"withoutgrouping",useGrouping:!1,fluid:"",placeholder:"Masukkan no hp pelanggan"},null,8,["modelValue"])]),_:1})]),n("div",ve,[l(p,{type:"button",label:"Batal",text:"",severity:"secondary",onClick:a[3]||(a[3]=e=>r("on-close"))}),l(p,{type:"button",label:"Simpan",onClick:a[4]||(a[4]=e=>u())})])],64)}}}),ge={getData(){return[{id:7,name:"Anugrah Abdi Kautsar",email:"anugrahabdikautsar@gmail.com",email_verified_at:null,created_at:"2024-12-13T09:05:43.000000Z",updated_at:"2024-12-13T09:05:43.000000Z",deleted_at:null,phone:"+6287771739015"},{id:8,name:"Adli eeng",email:"adlieend@gmail.com",email_verified_at:null,created_at:"2024-12-13T09:05:43.000000Z",updated_at:"2024-12-13T09:05:43.000000Z",deleted_at:null,phone:"+6287771739015"}]},getCustomer(){return Promise.resolve(this.getData())}},be={class:"card mt-8"},_e={class:"flex flex-col md:flex-row justify-between gap-4"},xe={class:"flex items-center gap-4 md:order-2 order-1"},ye={class:"hidden md:flex"},Ve={class:"flex md:hidden"},ke=["href"],$e={class:"flex gap-4 items-center"},Ge=N({__name:"Customers",setup(y){const g=Y();J();const r=_(),i=_({}),u=_(!1),b=_(null),a=_(!1),t=_(!1);L(()=>{ge.getCustomer().then(p=>{b.value=p,u.value=!1}),d()});function d(){i.value={global:{value:null,matchMode:T.CONTAINS},name:{operator:h.AND,constraints:[{value:null,matchMode:T.STARTS_WITH}]},email:{operator:h.AND,constraints:[{value:null,matchMode:T.STARTS_WITH}]},phone:{operator:h.AND,constraints:[{value:null,matchMode:T.STARTS_WITH}]}}}const f=p=>{r.value.exportCSV()},V=p=>{g.require({target:p.currentTarget,message:"Yakin ingin menghapus pelanggan ini?",icon:"pi pi-info-circle",rejectProps:{label:"Batal",severity:"secondary",outlined:!0},acceptProps:{label:"Yakin",severity:"danger"},accept:()=>{},reject:()=>{}})};return(p,e)=>{const v=ae,k=I,q=te,$=U,E=oe,C=le,Z=ee,z=ce,M=X,K=de,P=Q("tooltip");return A(),B(D,null,[l(v,{breadcrumbItems:[{label:"Pelanggan"}]}),n("div",be,[e[15]||(e[15]=n("div",{class:"font-semibold text-xl mb-4"},"Data Benefit",-1)),l(Z,{ref_key:"dt",ref:r,value:b.value,paginator:!0,rows:10,dataKey:"id",rowHover:!0,filters:i.value,"onUpdate:filters":e[5]||(e[5]=o=>i.value=o),filterDisplay:"menu",loading:u.value,globalFilterFields:["name","email","phone"],showGridlines:""},{header:s(()=>[n("div",_e,[l(k,{type:"button",icon:"pi pi-plus",label:"Tambah Pelanggan",class:"md:order-1 order-2",onClick:e[0]||(e[0]=o=>t.value=!0)}),n("div",xe,[n("div",ye,[l(k,{type:"button",icon:"pi pi-download",outlined:"",label:"Unduh",onClick:e[1]||(e[1]=o=>f(o))})]),n("div",Ve,[l(k,{type:"button",icon:"pi pi-download",outlined:""})]),l(E,{class:"w-full md:w-auto"},{default:s(()=>[l(q,null,{default:s(()=>e[12]||(e[12]=[n("i",{class:"pi pi-search"},null,-1)])),_:1}),l($,{modelValue:i.value.global.value,"onUpdate:modelValue":e[2]||(e[2]=o=>i.value.global.value=o),placeholder:"Pencarian",fluid:""},null,8,["modelValue"])]),_:1})])])]),empty:s(()=>e[13]||(e[13]=[x(" Tidak ada data Benefit. ")])),loading:s(()=>e[14]||(e[14]=[x(" Memuat data Benefit. Mohon tunggu. ")])),default:s(()=>[l(C,{sortable:"",field:"name",header:"Nama",class:"min-w-[15rem]"},{body:s(({data:o})=>[x(S(o.name),1)]),filter:s(({filterModel:o})=>[l($,{modelValue:o.value,"onUpdate:modelValue":c=>o.value=c,type:"text",placeholder:"Cari Benefit"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),l(C,{sortable:"",field:"email",header:"Alamat Email",class:"min-w-[15rem]"},{body:s(({data:o})=>[n("a",{href:"mailto:"+o.email,class:"text-blue-400 hover:text-blue-500 transition-all",target:"_blank"},S(o.email),9,ke)]),filter:s(({filterModel:o})=>[l($,{modelValue:o.value,"onUpdate:modelValue":c=>o.value=c,type:"text",placeholder:"Cari Benefit"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),l(C,{sortable:"",field:"phone",header:"Nomor Hp",class:"min-w-[15rem]"},{body:s(({data:o})=>[x(S(o.phone),1)]),filter:s(({filterModel:o})=>[l($,{modelValue:o.value,"onUpdate:modelValue":c=>o.value=c,type:"text",placeholder:"Cari Benefit"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),l(C,{sortable:"",field:"id",header:"Action",bodyClass:"text-center",class:"min-w-[10rem]"},{body:s(({data:o})=>[n("div",$e,[H(l(k,{icon:"pi pi-pencil",severity:"info",text:"",onClick:e[3]||(e[3]=c=>a.value=!0)},null,512),[[P,"Ubah",void 0,{bottom:!0}]]),H(l(k,{icon:"pi pi-trash",severity:"danger",text:"",onClick:e[4]||(e[4]=c=>V(c))},null,512),[[P,"Hapus",void 0,{bottom:!0}]])])]),_:1})]),_:1},8,["value","filters","loading"])]),l(m(ne)),l(M,{visible:t.value,"onUpdate:visible":e[8]||(e[8]=o=>t.value=o),maximizable:"",modal:"",header:"Tambah Pelanggan",class:"sm:w-1/2 w-full"},{default:s(()=>[l(z,{onOnClose:e[6]||(e[6]=o=>t.value=!1),onOnSave:e[7]||(e[7]=o=>t.value=!1)})]),_:1},8,["visible"]),l(M,{visible:a.value,"onUpdate:visible":e[11]||(e[11]=o=>a.value=o),maximizable:"",modal:"",header:"Ubah Pelanggan",class:"sm:w-1/2 w-full"},{default:s(()=>[l(K,{customer:{},onOnClose:e[9]||(e[9]=o=>a.value=!1),onOnSave:e[10]||(e[10]=o=>a.value=!1)})]),_:1},8,["visible"])],64)}}});export{Ge as default};
