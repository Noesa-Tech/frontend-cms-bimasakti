import{s as j,b as H,c as O,d as R,a as Y}from"./index-1ecd3f01.js";import{s as E,a as P,b as W}from"./index-16e24324.js";import{s as q}from"./index-0c2c785a.js";import{s as K}from"./index-a061e24c.js";import{_ as Q}from"./TopBreadcrumb-e6c79ec7.js";import{S as z}from"./ServicesService-f4732cae.js";import{p as G,V as J,W as X,v as p,q as Z,Q as ee,X as ae,Y as u,$ as v,c as C,h as a,a as s,w as o,z as h,M as te,J as oe,o as V,O as c,t as w,K as T,k as le,n as ne}from"./index-85e1894e.js";import"./index-0ba71d68.js";import"./index-ed7c8632.js";import"./index-b4e0f736.js";import"./_plugin-vue_export-helper-c27b6911.js";const se={class:"card mt-8"},ie={class:"flex flex-col md:flex-row justify-between gap-4"},re={class:"flex items-center gap-4 md:order-2 order-1"},de={class:"hidden md:flex"},ue={class:"flex md:hidden"},ce={class:"line-clamp-2"},me={class:"flex gap-4 items-center"},Se=G({__name:"MasterServices",setup(pe){const D=J(),m=X(),x=p(),i=p({}),S=p(!1),k=p(null),U=Z([1,0]);function f(n){switch(n){case 0:return"danger";case 1:return"success"}}function y(n){switch(n){case 0:return"Tidak Tersedia";case 1:return"Tersedia"}}ee(()=>{console.log(m),m.add({severity:"info",summary:"Confirmed",detail:"Pesanan dibatalkan",life:3e3})}),ae(()=>{z.getServices().then(n=>{k.value=n,S.value=!1}),N()});function N(){i.value={global:{value:null,matchMode:u.CONTAINS},name:{operator:v.AND,constraints:[{value:null,matchMode:u.STARTS_WITH}]},description:{operator:v.AND,constraints:[{value:null,matchMode:u.STARTS_WITH}]},updated_at:{operator:v.AND,constraints:[{value:null,matchMode:u.DATE_IS}]},status:{operator:v.OR,constraints:[{value:null,matchMode:u.EQUALS}]}}}function M(n){return new Date(n).toLocaleDateString("en-US",{day:"2-digit",month:"2-digit",year:"numeric"})}const $=n=>{x.value.exportCSV()},A=n=>{D.require({target:n.currentTarget,message:"Yakin ingin menghapus layanan ini?",icon:"pi pi-info-circle",rejectProps:{label:"Batal",severity:"secondary",outlined:!0},acceptProps:{label:"Yakin",severity:"danger"},accept:()=>{m.add({severity:"info",summary:"Confirmed",detail:"Pesanan dibatalkan",life:3e3})},reject:()=>{m.add({severity:"error",summary:"Rejected",detail:"You have rejected",life:3e3})}})};return(n,t)=>{const F=Q,r=K,I=O,_=q,B=R,d=Y,b=W,L=j,g=oe("tooltip");return V(),C(te,null,[a(F,{breadcrumbItems:[{label:"Master"},{label:"Layanan"}]}),s("div",se,[t[7]||(t[7]=s("div",{class:"font-semibold text-xl mb-4"},"Data Layanan",-1)),a(L,{ref_key:"dt",ref:x,value:k.value,paginator:!0,rows:10,dataKey:"id",rowHover:!0,filters:i.value,"onUpdate:filters":t[3]||(t[3]=e=>i.value=e),filterDisplay:"menu",loading:S.value,globalFilterFields:["name","description","status","updated_at"],showGridlines:"",scrollable:""},{header:o(()=>[s("div",ie,[a(r,{type:"button",icon:"pi pi-plus",label:"Tambah Layanan",class:"md:order-1 order-2"}),s("div",re,[s("div",de,[a(r,{type:"button",icon:"pi pi-download",outlined:"",label:"Unduh",onClick:t[0]||(t[0]=e=>$(e))})]),s("div",ue,[a(r,{type:"button",icon:"pi pi-download",outlined:""})]),a(B,{class:"w-full md:w-auto"},{default:o(()=>[a(I,null,{default:o(()=>t[4]||(t[4]=[s("i",{class:"pi pi-search"},null,-1)])),_:1}),a(_,{modelValue:i.value.global.value,"onUpdate:modelValue":t[1]||(t[1]=e=>i.value.global.value=e),placeholder:"Pencarian",fluid:""},null,8,["modelValue"])]),_:1})])])]),empty:o(()=>t[5]||(t[5]=[c(" Tidak ada data layanan. ")])),loading:o(()=>t[6]||(t[6]=[c(" Memuat data layanan. Mohon tunggu. ")])),default:o(()=>[a(d,{sortable:"",field:"name",header:"Nama Layanan",class:"min-w-[15rem]"},{body:o(({data:e})=>[c(w(e.name),1)]),filter:o(({filterModel:e})=>[a(_,{modelValue:e.value,"onUpdate:modelValue":l=>e.value=l,type:"text",placeholder:"Cari Nama"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),a(d,{sortable:"",field:"description",header:"Deskripsi",class:"min-w-[15rem]"},{body:o(({data:e})=>[T((V(),C("span",ce,[c(w(e.description),1)])),[[g,e.description,void 0,{bottom:!0}]])]),filter:o(({filterModel:e})=>[a(_,{modelValue:e.value,"onUpdate:modelValue":l=>e.value=l,type:"text",placeholder:"Cari Nama"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),a(d,{sortable:"",header:"Status",field:"status",filterMenuStyle:{width:"14rem"}},{body:o(({data:e})=>[a(b,{value:y(e.status),severity:f(e.status),class:"whitespace-nowrap"},null,8,["value","severity"])]),filter:o(({filterModel:e})=>[a(h(H),{modelValue:e.value,"onUpdate:modelValue":l=>e.value=l,options:U,placeholder:"Pilih",showClear:""},{value:o(l=>[l.value?(V(),le(b,{key:0,value:y(l.value),severity:f(l.value)},null,8,["value","severity"])):ne("",!0)]),option:o(l=>[a(b,{value:y(l.option),severity:f(l.option)},null,8,["value","severity"])]),_:2},1032,["modelValue","onUpdate:modelValue","options"])]),_:1}),a(d,{sortable:"",header:"Terakhir Update",filterField:"updated_at",dataType:"date",class:"min-w-[20rem]"},{body:o(({data:e})=>[c(w(M(e.updated_at)),1)]),filter:o(({filterModel:e})=>[a(h(E),{modelValue:e.value,"onUpdate:modelValue":l=>e.value=l,dateFormat:"mm/dd/yy",placeholder:"mm/dd/yyyy"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),a(d,{sortable:"",field:"id",header:"Action",bodyClass:"text-center",class:"min-w-[10rem]"},{body:o(({data:e})=>[s("div",me,[T(a(r,{icon:"pi pi-pencil",severity:"info",text:"",as:"router-link",to:{name:"order-detail",params:{id:e.id}}},null,8,["to"]),[[g,"Ubah",void 0,{bottom:!0}]]),T(a(r,{icon:"pi pi-times",severity:"danger",text:"",onClick:t[2]||(t[2]=l=>A(l))},null,512),[[g,"Hapus",void 0,{bottom:!0}]])])]),_:1})]),_:1},8,["value","filters","loading"])]),a(h(P))],64)}}});export{Se as default};
