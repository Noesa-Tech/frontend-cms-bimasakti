var M=Object.defineProperty,Y=Object.defineProperties;var W=Object.getOwnPropertyDescriptors;var N=Object.getOwnPropertySymbols;var J=Object.prototype.hasOwnProperty,Q=Object.prototype.propertyIsEnumerable;var B=(m,i,s)=>i in m?M(m,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):m[i]=s,h=(m,i)=>{for(var s in i||(i={}))J.call(i,s)&&B(m,s,i[s]);if(N)for(var s of N(i))Q.call(i,s)&&B(m,s,i[s]);return m},S=(m,i)=>Y(m,W(i));var P=(m,i,s)=>new Promise((v,a)=>{var r=n=>{try{c(s.next(n))}catch(o){a(o)}},b=n=>{try{c(s.throw(n))}catch(o){a(o)}},c=n=>n.done?v(n.value):Promise.resolve(n.value).then(r,b);c((s=s.apply(m,i)).next())});import{s as U}from"./index-455540ca.js";import{s as R}from"./index-a96a628a.js";import{s as I}from"./index-ee778744.js";import{p as V,v as g,q as j,o as y,c as x,a as t,x as d,h as l,n as z,N as C,W as X,a3 as Z,S as ee,w as $,O as te,z as w,K as oe,P as se,t as L,D as ne,L as A}from"./index-8a1dcdcd.js";import{s as le}from"./index-33cf8e97.js";import{a as ie,s as ae}from"./index-189d15a3.js";import{s as re}from"./index-34321c27.js";import{s as de}from"./index-526b6215.js";import{_ as me}from"./TopBreadcrumb-57703fde.js";import{s as pe}from"./index-4a43c2c9.js";import"./index-d13f15b5.js";import"./index-f8d535e2.js";import"./index-dcc24176.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./index-ce2c0f14.js";const ce={class:"flex flex-col items-start gap-2 mb-4"},ue={class:"flex flex-col gap-2 items-start"},fe={key:0,class:"relative"},ve=["src"],be={class:"absolute right-0 top-0"},_e={class:"flex flex-col gap-2 mb-4"},ge={class:"flex justify-end gap-2 mt-8"},ye=V({__name:"EditProperty",props:{id:{type:Number,required:!0},image:{type:String,required:!0},name:{type:String,required:!0}},emits:["on-close","on-save"],setup(m,{emit:i}){const s=g(""),v=m,a=i,r=j({id:v.id,image:v.image,name:v.name});function b(){return P(this,null,function*(){S(h({},r),{_method:"PATCH",property_id:r==null?void 0:r.id}),a("on-save")})}function c(n){const o=n.files[0];r.image=o;const e=new FileReader;e.onload=u=>P(this,null,function*(){var f;typeof((f=u.target)==null?void 0:f.result)=="string"&&(s.value=u.target.result)}),e.readAsDataURL(o)}return(n,o)=>{const e=I,u=R,f=U;return y(),x(C,null,[t("div",ce,[o[4]||(o[4]=t("label",{for:"name"},"Ubah Gambar",-1)),t("div",ue,[d(s)?(y(),x("div",fe,[t("img",{src:d(s),alt:"Image",class:"shadow-md rounded-xl w-full sm:w-64"},null,8,ve),t("div",be,[l(e,{icon:"pi pi-times",rounded:"",outlined:"",onClick:o[0]||(o[0]=_=>s.value="")})])])):z("",!0),l(u,{mode:"basic",onSelect:c,customUpload:"",severity:"secondary",class:"p-button-outlined",maxFileSize:2e6,chooseLabel:d(s)?"Ubah Foto":"Pilih Foto",chooseIcon:"pi pi-image"},null,8,["chooseLabel"])])]),t("div",_e,[o[5]||(o[5]=t("label",{for:"name"},"Nama Properti",-1)),l(f,{modelValue:d(r).name,"onUpdate:modelValue":o[1]||(o[1]=_=>d(r).name=_),id:"name","aria-describedby":"name-help",placeholder:"Nama Properti"},null,8,["modelValue"])]),t("div",ge,[l(e,{type:"button",label:"Batal",text:"",severity:"secondary",onClick:o[2]||(o[2]=_=>a("on-close"))}),l(e,{type:"button",label:"Simpan",onClick:o[3]||(o[3]=_=>b())})])],64)}}}),xe={class:"flex flex-col items-start gap-2 mb-4"},$e={class:"flex flex-col gap-2 items-start"},Pe={key:0,class:"relative"},we=["src"],Ce={class:"absolute right-0 top-0"},ke={class:"flex flex-col gap-2 mb-4"},he={class:"flex justify-end gap-2 mt-8"},Se=V({__name:"AddProperty",emits:["on-close","on-save"],setup(m,{emit:i}){const s=g(""),v=i,a=j({image:"",name:""});function r(){return P(this,null,function*(){S(h({},a),{_method:"PATCH",property_id:a==null?void 0:a.id}),v("on-save")})}function b(c){const n=c.files[0];a.image=n;const o=new FileReader;o.onload=e=>P(this,null,function*(){var u;typeof((u=e.target)==null?void 0:u.result)=="string"&&(s.value=e.target.result)}),o.readAsDataURL(n)}return(c,n)=>{const o=I,e=R,u=U;return y(),x(C,null,[t("div",xe,[n[4]||(n[4]=t("label",{for:"name"},"Tambah Gambar",-1)),t("div",$e,[d(s)?(y(),x("div",Pe,[t("img",{src:d(s),alt:"Image",class:"shadow-md rounded-xl w-full sm:w-64"},null,8,we),t("div",Ce,[l(o,{icon:"pi pi-times",rounded:"",outlined:"",onClick:n[0]||(n[0]=f=>s.value="")})])])):z("",!0),l(e,{mode:"basic",onSelect:b,customUpload:"",severity:"secondary",class:"p-button-outlined",maxFileSize:2e6,chooseLabel:d(s)?"Ubah Foto":"Pilih Foto",chooseIcon:"pi pi-image"},null,8,["chooseLabel"])])]),t("div",ke,[n[5]||(n[5]=t("label",{for:"name"},"Nama Properti",-1)),l(u,{modelValue:d(a).name,"onUpdate:modelValue":n[1]||(n[1]=f=>d(a).name=f),id:"name","aria-describedby":"name-help",placeholder:"Nama Properti"},null,8,["modelValue"])]),t("div",he,[l(o,{type:"button",label:"Batal",text:"",severity:"secondary",onClick:n[2]||(n[2]=f=>v("on-close"))}),l(o,{type:"button",label:"Simpan",onClick:n[3]||(n[3]=f=>r())})])],64)}}}),Ue={getData(){return[{id:1,name:"Rumah Pribadi"},{id:2,name:"Kantor"},{id:3,name:"Apartemen"},{id:4,name:"Lainnya"}]},getProperties(){return Promise.resolve(this.getData())}},Ie={class:"card mt-8"},Ve={class:"flex flex-col"},De={class:"m-0"},Fe={class:"inline-flex items-center gap-2 w-full mt-1"},Te={class:"card mt-8"},Ne={class:"flex flex-col md:flex-row items-center justify-between gap-4 mb-4"},Be={class:"flex flex-col md:flex-row items-center gap-4 md:order-2 order-1"},Le={class:"grid grid-cols-12 gap-4"},Ae={class:"mb-4"},Re=["src","alt"],je={class:"mt-0 font-semibold text-xl"},ze={class:"flex items-center justify-end"},st=V({__name:"MasterProperty",setup(m){const i=g(null),s=X(),v=Z(),a=g(!1),r=g(!1),b=g(""),c=g(5e4),n=o=>{s.require({target:o.currentTarget,message:"Yakin ingin menghapus properti ini?",icon:"pi pi-info-circle",rejectProps:{label:"Batal",severity:"secondary",outlined:!0},acceptProps:{label:"Yakin",severity:"danger"},accept:()=>{v.add({severity:"info",summary:"Confirmed",detail:"Properti Dihapus",life:3e3})}})};return ee(()=>{Ue.getProperties().then(o=>i.value=o)}),(o,e)=>{const u=me,f=de,_=I,H=re,O=ae,E=U,q=ie,G=Se,D=le,K=ye,F=oe("tooltip");return y(),x(C,null,[l(u,{breadcrumbItems:[{label:"Properti"}]}),t("div",Ie,[t("div",Ve,[e[12]||(e[12]=t("label",{for:"price-ladder",class:"font-semibold"},"Harga Tangga",-1)),l(H,null,{display:$(()=>[t("p",De,[se("Rp"+L(o.formatPrice(d(c))),1),e[11]||(e[11]=t("i",{class:"pi pi-pencil ml-2"},null,-1))])]),content:$(({closeCallback:p})=>[t("span",Fe,[l(f,{modelValue:d(c),"onUpdate:modelValue":e[0]||(e[0]=k=>w(c)?c.value=k:null),type:"text",placeholder:"Cari Harga",inputId:"currency-indonesia",mode:"currency",currency:"IDR",locale:"id-ID",minFractionDigits:0},null,8,["modelValue"]),l(_,{icon:"pi pi-check",label:"Simpan",severity:"success",onClick:p},null,8,["onClick"])])]),_:1})])]),t("div",Te,[t("div",Ne,[e[14]||(e[14]=t("h5",{class:"m-0"},"Data Properti",-1)),t("div",Be,[l(_,{type:"button",icon:"pi pi-plus",label:"Tambah Properti",class:"md:order-1 order-2 w-full md:w-auto",onClick:e[1]||(e[1]=p=>r.value=!0)}),l(q,{class:"w-full md:w-auto"},{default:$(()=>[l(O,null,{default:$(()=>e[13]||(e[13]=[t("i",{class:"pi pi-search"},null,-1)])),_:1}),l(E,{modelValue:d(b),"onUpdate:modelValue":e[2]||(e[2]=p=>w(b)?b.value=p:null),placeholder:"Pencarian",fluid:""},null,8,["modelValue"])]),_:1})])]),t("div",Le,[(y(!0),x(C,null,te(d(i),(p,k)=>(y(),x("div",{key:k,class:"md:col-span-3 sm:col-span-4 col-span-6 border border-surface-200 dark:border-surface-700 rounded p-4"},[t("div",Ae,[t("img",{src:d(ne),alt:p.name,class:"mx-auto"},null,8,Re)]),t("div",je,L(p.name),1),t("div",ze,[t("span",null,[A(l(_,{icon:"pi pi-pencil",severity:"info",outlined:"",onClick:e[3]||(e[3]=T=>a.value=!0)},null,512),[[F,"Ubah",void 0,{bottom:!0}]]),A(l(_,{icon:"pi pi-trash",severity:"danger",class:"ml-2",onClick:e[4]||(e[4]=T=>n(T))},null,512),[[F,"Hapus",void 0,{bottom:!0}]])])])]))),128))])]),l(d(pe)),l(D,{visible:d(r),"onUpdate:visible":e[7]||(e[7]=p=>w(r)?r.value=p:null),maximizable:"",modal:"",header:"Tambah Properti",class:"sm:w-1/2 w-full"},{default:$(()=>[l(G,{onOnClose:e[5]||(e[5]=p=>r.value=!1),onOnSave:e[6]||(e[6]=p=>r.value=!1)})]),_:1},8,["visible"]),l(D,{visible:d(a),"onUpdate:visible":e[10]||(e[10]=p=>w(a)?a.value=p:null),maximizable:"",modal:"",header:"Ubah Property",class:"sm:w-1/2 w-full"},{default:$(()=>[l(K,{"id:1,":"",onOnClose:e[8]||(e[8]=p=>a.value=!1),onOnSave:e[9]||(e[9]=p=>a.value=!1)})]),_:1},8,["visible"])],64)}}});export{st as default};
