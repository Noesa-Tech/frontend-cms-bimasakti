var w=(y,g,r)=>new Promise((i,u)=>{var b=m=>{try{t(r.next(m))}catch(f){u(f)}},a=m=>{try{t(r.throw(m))}catch(f){u(f)}},t=m=>m.done?i(m.value):Promise.resolve(m.value).then(b,a);t((r=r.apply(y,g)).next())});import{s as I}from"./index-ee778744.js";import{s as F,a as G}from"./index-684d545a.js";import{s as O}from"./index-526b6215.js";import{s as N}from"./index-455540ca.js";import{S as R}from"./service-6b8e39d9.js";import{p as U,v as _,q as j,V as Y,o as A,c as B,a as n,h as l,x as d,w as s,P as x,N as D,W as z,a3 as L,a4 as J,Y as T,$ as h,K as Q,t as S,L as H}from"./index-8a1dcdcd.js";import{s as X}from"./index-33cf8e97.js";import{s as ee,a as le}from"./index-4deb7771.js";import{s as te,a as oe}from"./index-189d15a3.js";import{_ as ae}from"./TopBreadcrumb-57703fde.js";import{s as ne}from"./index-4a43c2c9.js";import"./index-f8d535e2.js";import"./index-59f565dc.js";import"./index-ce2c0f14.js";import"./index-dcc24176.js";import"./index-c24beee9.js";import"./index-d13f15b5.js";import"./_plugin-vue_export-helper-c27b6911.js";const se={class:"flex flex-col gap-2 mb-4"},ie={class:"flex flex-col gap-2 mb-4"},re={class:"flex flex-col gap-2"},ue={class:"flex justify-end gap-2 mt-8"},me=U({__name:"EditCustomer",props:{customer:{type:Object,required:!0}},emits:["on-close","on-save"],setup(y,{emit:g}){const r=y,i=g;R(),_(null);const u=j({name:r.customer.name,description:r.customer.email,status:r.customer.phone});function b(){return w(this,null,function*(){i("on-save")})}return Y(()=>r.customer,a=>{},{immediate:!0}),(a,t)=>{const m=N,f=F,V=O,p=G,e=I;return A(),B(D,null,[n("div",se,[t[5]||(t[5]=n("label",{for:"name"},"Nama Pelanggan",-1)),l(m,{modelValue:d(u).name,"onUpdate:modelValue":t[0]||(t[0]=v=>d(u).name=v),id:"name","aria-describedby":"name-help",placeholder:"Masukkan nama lengkap pelanggan"},null,8,["modelValue"])]),n("div",ie,[t[6]||(t[6]=n("label",{for:"email"},"Nomor Hp Pelanggan",-1)),l(m,{modelValue:d(u).email,"onUpdate:modelValue":t[1]||(t[1]=v=>d(u).email=v),id:"email","aria-describedby":"phone-help",placeholder:"Masukkan email pelanggan"},null,8,["modelValue"])]),n("div",re,[t[8]||(t[8]=n("label",{for:"phone"},"Nomor Hp",-1)),l(p,null,{default:s(()=>[l(f,null,{default:s(()=>t[7]||(t[7]=[x(" +62 ")])),_:1}),l(V,{modelValue:d(u).phone,"onUpdate:modelValue":t[2]||(t[2]=v=>d(u).phone=v),id:"phone",inputId:"withoutgrouping",useGrouping:!1,fluid:"",placeholder:"Masukkan no hp pelanggan"},null,8,["modelValue"])]),_:1})]),n("div",ue,[l(e,{type:"button",label:"Batal",text:"",severity:"secondary",onClick:t[3]||(t[3]=v=>i("on-close"))}),l(e,{type:"button",label:"Simpan",onClick:t[4]||(t[4]=v=>b())})])],64)}}}),de={class:"flex flex-col gap-2 mb-4"},pe={class:"flex flex-col gap-2 mb-4"},fe={class:"flex flex-col gap-2"},ve={class:"flex justify-end gap-2 mt-8"},ce=U({__name:"AddCustomer",emits:["on-close","on-save"],setup(y,{emit:g}){const r=g,i=j({name:"",email:"",phone:null});function u(){return w(this,null,function*(){r("on-save")})}return(b,a)=>{const t=N,m=F,f=O,V=G,p=I;return A(),B(D,null,[n("div",de,[a[5]||(a[5]=n("label",{for:"name"},"Nama Pelanggan",-1)),l(t,{modelValue:d(i).name,"onUpdate:modelValue":a[0]||(a[0]=e=>d(i).name=e),id:"name","aria-describedby":"name-help",placeholder:"Masukkan nama lengkap pelanggan"},null,8,["modelValue"])]),n("div",pe,[a[6]||(a[6]=n("label",{for:"email"},"Nomor Hp Pelanggan",-1)),l(t,{modelValue:d(i).email,"onUpdate:modelValue":a[1]||(a[1]=e=>d(i).email=e),id:"email","aria-describedby":"phone-help",placeholder:"Masukkan email pelanggan"},null,8,["modelValue"])]),n("div",fe,[a[8]||(a[8]=n("label",{for:"phone"},"Nomor Hp",-1)),l(V,null,{default:s(()=>[l(m,null,{default:s(()=>a[7]||(a[7]=[x(" +62 ")])),_:1}),l(f,{modelValue:d(i).phone,"onUpdate:modelValue":a[2]||(a[2]=e=>d(i).phone=e),id:"phone",inputId:"withoutgrouping",useGrouping:!1,fluid:"",placeholder:"Masukkan no hp pelanggan"},null,8,["modelValue"])]),_:1})]),n("div",ve,[l(p,{type:"button",label:"Batal",text:"",severity:"secondary",onClick:a[3]||(a[3]=e=>r("on-close"))}),l(p,{type:"button",label:"Simpan",onClick:a[4]||(a[4]=e=>u())})])],64)}}}),ge={getData(){return[{id:7,name:"Anugrah Abdi Kautsar",email:"anugrahabdikautsar@gmail.com",email_verified_at:null,created_at:"2024-12-13T09:05:43.000000Z",updated_at:"2024-12-13T09:05:43.000000Z",deleted_at:null,phone:"+6287771739015"},{id:8,name:"Adli eeng",email:"adlieend@gmail.com",email_verified_at:null,created_at:"2024-12-13T09:05:43.000000Z",updated_at:"2024-12-13T09:05:43.000000Z",deleted_at:null,phone:"+6287771739015"}]},getCustomer(){return Promise.resolve(this.getData())}},be={class:"card mt-8"},_e={class:"flex flex-col md:flex-row justify-between gap-4"},xe={class:"flex items-center gap-4 md:order-2 order-1"},ye={class:"hidden md:flex"},Ve={class:"flex md:hidden"},$e=["href"],ke={class:"flex gap-4 items-center"},Ee=U({__name:"Customers",setup(y){const g=z();L();const r=_(),i=_({}),u=_(!1),b=_(null),a=_(!1),t=_(!1);J(()=>{ge.getCustomer().then(p=>{b.value=p,u.value=!1}),m()});function m(){i.value={global:{value:null,matchMode:T.CONTAINS},name:{operator:h.AND,constraints:[{value:null,matchMode:T.STARTS_WITH}]},email:{operator:h.AND,constraints:[{value:null,matchMode:T.STARTS_WITH}]},phone:{operator:h.AND,constraints:[{value:null,matchMode:T.STARTS_WITH}]}}}const f=p=>{r.value.exportCSV()},V=p=>{g.require({target:p.currentTarget,message:"Yakin ingin menghapus pelanggan ini?",icon:"pi pi-info-circle",rejectProps:{label:"Batal",severity:"secondary",outlined:!0},acceptProps:{label:"Yakin",severity:"danger"},accept:()=>{},reject:()=>{}})};return(p,e)=>{const v=ae,$=I,q=te,k=N,E=oe,C=le,W=ee,Z=ce,P=X,K=me,M=Q("tooltip");return A(),B(D,null,[l(v,{breadcrumbItems:[{label:"Pelanggan"}]}),n("div",be,[e[15]||(e[15]=n("div",{class:"font-semibold text-xl mb-4"},"Data Benefit",-1)),l(W,{ref_key:"dt",ref:r,value:b.value,paginator:!0,rows:10,dataKey:"id",rowHover:!0,filters:i.value,"onUpdate:filters":e[5]||(e[5]=o=>i.value=o),filterDisplay:"menu",loading:u.value,globalFilterFields:["name","email","phone"],showGridlines:""},{header:s(()=>[n("div",_e,[l($,{type:"button",icon:"pi pi-plus",label:"Tambah Pelanggan",class:"md:order-1 order-2",onClick:e[0]||(e[0]=o=>t.value=!0)}),n("div",xe,[n("div",ye,[l($,{type:"button",icon:"pi pi-download",outlined:"",label:"Unduh",onClick:e[1]||(e[1]=o=>f(o))})]),n("div",Ve,[l($,{type:"button",icon:"pi pi-download",outlined:""})]),l(E,{class:"w-full md:w-auto"},{default:s(()=>[l(q,null,{default:s(()=>e[12]||(e[12]=[n("i",{class:"pi pi-search"},null,-1)])),_:1}),l(k,{modelValue:i.value.global.value,"onUpdate:modelValue":e[2]||(e[2]=o=>i.value.global.value=o),placeholder:"Pencarian",fluid:""},null,8,["modelValue"])]),_:1})])])]),empty:s(()=>e[13]||(e[13]=[x(" Tidak ada data Benefit. ")])),loading:s(()=>e[14]||(e[14]=[x(" Memuat data Benefit. Mohon tunggu. ")])),default:s(()=>[l(C,{sortable:"",field:"name",header:"Nama",class:"min-w-[15rem]"},{body:s(({data:o})=>[x(S(o.name),1)]),filter:s(({filterModel:o})=>[l(k,{modelValue:o.value,"onUpdate:modelValue":c=>o.value=c,type:"text",placeholder:"Cari Benefit"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),l(C,{sortable:"",field:"email",header:"Alamat Email",class:"min-w-[15rem]"},{body:s(({data:o})=>[n("a",{href:"mailto:"+o.email,class:"text-blue-400 hover:text-blue-500 transition-all",target:"_blank"},S(o.email),9,$e)]),filter:s(({filterModel:o})=>[l(k,{modelValue:o.value,"onUpdate:modelValue":c=>o.value=c,type:"text",placeholder:"Cari Benefit"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),l(C,{sortable:"",field:"phone",header:"Nomor Hp",class:"min-w-[15rem]"},{body:s(({data:o})=>[x(S(o.phone),1)]),filter:s(({filterModel:o})=>[l(k,{modelValue:o.value,"onUpdate:modelValue":c=>o.value=c,type:"text",placeholder:"Cari Benefit"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),l(C,{sortable:"",field:"id",header:"Action",bodyClass:"text-center",class:"min-w-[10rem]"},{body:s(({data:o})=>[n("div",ke,[H(l($,{icon:"pi pi-pencil",severity:"info",text:"",onClick:e[3]||(e[3]=c=>a.value=!0)},null,512),[[M,"Ubah",void 0,{bottom:!0}]]),H(l($,{icon:"pi pi-trash",severity:"danger",text:"",onClick:e[4]||(e[4]=c=>V(c))},null,512),[[M,"Hapus",void 0,{bottom:!0}]])])]),_:1})]),_:1},8,["value","filters","loading"])]),l(d(ne)),l(P,{visible:t.value,"onUpdate:visible":e[8]||(e[8]=o=>t.value=o),maximizable:"",modal:"",header:"Tambah Pelanggan",class:"sm:w-1/2 w-full"},{default:s(()=>[l(Z,{onOnClose:e[6]||(e[6]=o=>t.value=!1),onOnSave:e[7]||(e[7]=o=>t.value=!1)})]),_:1},8,["visible"]),l(P,{visible:a.value,"onUpdate:visible":e[11]||(e[11]=o=>a.value=o),maximizable:"",modal:"",header:"Ubah Pelanggan",class:"sm:w-1/2 w-full"},{default:s(()=>[l(K,{customer:{},onOnClose:e[9]||(e[9]=o=>a.value=!1),onOnSave:e[10]||(e[10]=o=>a.value=!1)})]),_:1},8,["visible"])],64)}}});export{Ee as default};
